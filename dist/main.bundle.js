/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{var t,e={3927:(t,e,i)=>{"use strict";var s=i(2260),o=i.n(s),r=i(7740);const n={SCENES:{PRELOAD_ASSETS:"PRELOAD_ASSETS",GAME:"GAME",UI:"UI"},GAME:{DEBUG:!1,SCALE:1,WIDTH:100,HEIGHT:100,LEVELS:[{COLUMNS:3,ROWS:2,DURATION_SHOW_CARDS:1e3,MESSAGE_END:"NOT BAD!"},{COLUMNS:4,ROWS:3,DURATION_SHOW_CARDS:1200,MESSAGE_END:"WELLY NICE!"},{COLUMNS:6,ROWS:4,DURATION_SHOW_CARDS:1800,MESSAGE_END:""}]},STYLE:{TEXT:{FONT_FAMILY:"Kickers-Regular"},COLOR:{ORANGE:"#f1966b",BLUE:"#2c4b7e",LIGHT_BLUE:"#6782e6",WHITE:"#f7e6e6"},OUTLINE:{COLOR:16777215,THICKNESS:2},BUTTON:{TINT:{HOVERED:10066329,PRESSED:4473924}},TOOLTIP:{DELAY_DISPLAY:600,OFFSET_LEFT:6,OFFSET_RIGHT:30,OFFSET_BOTTOM:30,OFFSET_TOP:6}},EVENTS:{UI:{TOOLTIP:{SHOW:"SHOW_TOOLTIP",HIDE:"HIDE_TOOLTIP"}}}};class a extends Phaser.Scene{constructor(t){super(t)}create(){}centerItem(t,e=0,i=0){const s=this.scale.displaySize.width,o=this.scale.displaySize.height;return t.setX((s-t.width)/2+e),t.setY((o-t.height)/2+i),t}centerVItem(t,e=0){let i=this.scale.displaySize.height;return t.setY((i-t.height)/2+e),t}centerHItem(t,e=0){let i=this.scale.displaySize.width;return t.setX((i-t.width)/2+e),t}static formatTime(t,e=!1){const i=Math.floor(t/6e4),s=i>=10?i.toString():"0"+i.toString();t-=6e4*i;const o=Math.floor(t/1e3),r=o>=10?o.toString():"0"+o.toString();t-=1e3*o;let n="";return e&&(n=(t=Math.floor(t/10)).toString(),n=t<10?` : 0 ${n}`:` : ${n}`),s+" : "+r+n}}var h=i(101),l=i(1476);class d{static hexColorToNumber(t){5==(t=t.replace("0x","#")).length?t=t.substring(0,4):9==t.length&&(t=t.substring(0,7)),t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,s){return e+e+i+i+s+s}));const e=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?(parseInt(e[1],16)<<16)+(parseInt(e[2],16)<<8)+parseInt(e[3],16):0}}class c extends h.__{constructor(t,e,i,s){const o=new l.Z(t,{x:0,y:0,radius:4,color:d.hexColorToNumber(n.STYLE.COLOR.WHITE),alpha:1,strokeColor:d.hexColorToNumber(n.STYLE.COLOR.LIGHT_BLUE),strokeWidth:3});t.add.existing(o);const r=t.add.text(0,0,s,{fontSize:"18px",fontFamily:n.STYLE.TEXT.FONT_FAMILY,color:n.STYLE.COLOR.BLUE});super(t,{x:e,y:i,background:o,text:r,align:"center",space:{top:4,bottom:4,left:6,right:6}}),t.add.existing(this),this.setDepth(9999)}}class T extends a{constructor(){super({key:n.SCENES.UI})}init(t){}preload(){}create(){super.create(),this.input.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OVER,((t,e)=>{this.events.emit("gameObjectHovered")}),this),this.createToolTip(),this.events.on(n.EVENTS.UI.TOOLTIP.SHOW,this.requestShowToolTip,this),this.events.on(n.EVENTS.UI.TOOLTIP.HIDE,this.requestHideToolTip,this),this.preventClickBackground=this.add.graphics(),this.preventClickBackground.fillStyle(d.hexColorToNumber(n.STYLE.COLOR.BLUE),.7),this.preventClickBackground.fillRect(0,0,this.scale.displaySize.width,this.scale.displaySize.height),this.preventClickBackground.setInteractive(new Phaser.Geom.Rectangle(0,0,this.scale.displaySize.width,this.scale.displaySize.height),Phaser.Geom.Rectangle.Contains),this.chronoText=this.add.text(.5*this.scale.displaySize.width,48,a.formatTime(0),{fontFamily:n.STYLE.TEXT.FONT_FAMILY,fontSize:"60px",color:n.STYLE.COLOR.LIGHT_BLUE,align:"center"}).setOrigin(.5,0),this.chronoTextY=this.chronoText.y,this.countdownStartGameText=this.add.text(.5*this.scale.displaySize.width,.5*this.scale.displaySize.height,"",{fontFamily:n.STYLE.TEXT.FONT_FAMILY,fontSize:"130px",color:n.STYLE.COLOR.LIGHT_BLUE,align:"center"}).setOrigin(.5),this.congratulationText=this.add.text(0,0,"CONGRATULATIONS!",{fontFamily:n.STYLE.TEXT.FONT_FAMILY,fontSize:"110px",color:n.STYLE.COLOR.ORANGE,align:"center"}).setOrigin(.5),this.congratulationText.setVisible(!1),this.victoryImage=this.add.image(.5*this.scale.displaySize.width,.5*this.scale.displaySize.height,"backgroundVictory"),this.victoryImage.setScale(.2),this.victoryImage.setVisible(!1),this.victoryText=this.add.text(this.victoryImage.x,this.victoryImage.y+.5*this.victoryImage.displayHeight+20,"WELLY VICTORY",{fontFamily:n.STYLE.TEXT.FONT_FAMILY,fontSize:"110px",color:n.STYLE.COLOR.ORANGE,align:"center"}).setOrigin(.5,0),this.victoryText.setVisible(!1)}createToolTip(){this.tooltTipTimerEvent=this.time.addEvent({}),this.toolTip=new c(this,0,0,""),this.toolTip.setOrigin(0,0),this.toolTip.setVisible(!1)}requestShowToolTip(t,e,i,s=1){!this.toolTip.visible&&i&&i.length>0&&(this.tooltTipTimerEvent.remove(),this.tooltTipTimerEvent=this.time.delayedCall(n.STYLE.TOOLTIP.DELAY_DISPLAY,(()=>{this.toolTip.setText(i),this.toolTip.layout();const s=this.cameras.main.worldView,o=s.contains(t+this.toolTip.displayWidth+n.STYLE.TOOLTIP.OFFSET_RIGHT,e);this.toolTip.setX(o?t+n.STYLE.TOOLTIP.OFFSET_RIGHT:t-n.STYLE.TOOLTIP.OFFSET_LEFT);const r=s.contains(t,e+this.toolTip.displayHeight+n.STYLE.TOOLTIP.OFFSET_BOTTOM);this.toolTip.setY(r?e+n.STYLE.TOOLTIP.OFFSET_BOTTOM:e-n.STYLE.TOOLTIP.OFFSET_TOP),this.toolTip.setOrigin(o?0:1,r?0:1),this.toolTip.layout(),this.toolTip.setVisible(!0)}),void 0,this))}requestHideToolTip(){this.tooltTipTimerEvent.remove(),this.toolTip.setVisible(!1)}startCountdown(){this.preventClickBackground.setVisible(!0),this.countdownStartGameText.setVisible(!0),this.doCountdown(3)}doCountdown(t){this.countdownStartGameText.setScale(1),this.countdownStartGameText.setText(t.toString()),this.countdownStartGameText.setColor(1==t?n.STYLE.COLOR.ORANGE:n.STYLE.COLOR.LIGHT_BLUE),--t>=0?this.tweens.add({targets:this.countdownStartGameText,scale:0==t?2.1:1.9,duration:400,onComplete:()=>{this.tweens.add({targets:this.countdownStartGameText,scale:1.2,duration:550,onComplete:()=>{this.doCountdown(t)},onCompleteScope:this})},onCompleteScope:this}):this.onReadyToStartGame()}onReadyToStartGame(){this.countdownStartGameText.setVisible(!1),this.preventClickBackground.setVisible(!1),this.events.emit("readyToStartGame")}onLeveCompleted(t){this.tweens.add({targets:this.chronoText,y:.5*this.scale.displaySize.height,scale:1.5,duration:300,onComplete:()=>{this.congratulationText.setPosition(this.chronoText.x,this.chronoText.y-80),this.congratulationText.setText(n.GAME.LEVELS[t].MESSAGE_END),this.congratulationText.setScale(0),this.congratulationText.setVisible(!0),this.tweens.add({targets:this.congratulationText,scale:1,duration:300,onComplete:()=>{},onCompleteScope:this}),this.time.delayedCall(3e3,(()=>{this.tweens.add({targets:this.congratulationText,scale:0,duration:200,onComplete:()=>{this.congratulationText.setVisible(!1),this.tweens.add({targets:this.chronoText,y:this.chronoTextY,scale:1,duration:500,onComplete:()=>{this.events.emit("readyToStartNextLevel")},onCompleteScope:this})},onCompleteScope:this})}),void 0,this)},onCompleteScope:this})}onAllLevelCompleted(){const t=this.victoryText.scale,e=this.victoryImage.scale;this.victoryText.setVisible(!0),this.victoryImage.setVisible(!0),this.victoryText.setScale(0),this.victoryImage.setScale(0),this.tweens.add({targets:this.victoryText,scale:t,duration:300}),this.tweens.add({targets:this.victoryImage,scale:e,duration:300})}update(t,e){super.update(t,e)}updateChrono(t){this.chronoText.setText(a.formatTime(t))}}class u extends Phaser.GameObjects.Image{constructor(t,e,i,s,o,r){super(t,e,i,s,o),this._isEnabled=!0,this.isPressed=!1,this.isHovered=!1,this.outlineThickness=n.STYLE.OUTLINE.THICKNESS,this.outlineColor=n.STYLE.OUTLINE.COLOR,this.tintPressed=n.STYLE.BUTTON.TINT.PRESSED,this.tintHovered=n.STYLE.BUTTON.TINT.HOVERED,this.toolTipText="",t.add.existing(this),r=this.initStyle(r),this.setInteractive({hitArea:new Phaser.Geom.Rectangle(0,0,this.displayWidth,this.displayHeight),hitAreaCallback:Phaser.Geom.Rectangle.Contains,pixelPerfect:r.pixelPerfect,cursor:"url(assets/cursors/cursorWellyHovered.cur), pointer"});const a=t.plugins.get("rexOutlinePipeline");this.on(Phaser.Input.Events.POINTER_OVER,(()=>{this._isEnabled&&(this.setTint(this.tintHovered),this.textureHovered&&this.textureHovered!=this.texture.key&&this.setTexture(this.textureHovered),this.outlineThickness&&a.add(this,{thickness:n.STYLE.OUTLINE.THICKNESS,outlineColor:n.STYLE.OUTLINE.COLOR}),this.isHovered=!0,this.isPressed=!1),this.scene.events.emit(n.EVENTS.UI.TOOLTIP.HIDE)}),this),this.on(Phaser.Input.Events.POINTER_OUT,(()=>{this._isEnabled&&(this.clearTint(),this.textureNormal&&this.textureNormal!=this.texture.key&&"__DEFAULT"!=this.textureNormal&&"__MISSING"!=this.textureNormal&&this.setTexture(this.textureNormal),a.remove(this)),this.isPressed=!1,this.isHovered=!1,this.scene.events.emit(n.EVENTS.UI.TOOLTIP.HIDE)}),this),this.on(Phaser.Input.Events.POINTER_DOWN,(()=>{this._isEnabled&&(this.texturePressed&&this.texturePressed!=this.texture.key&&this.setTexture(this.texturePressed),this.setTint(this.tintPressed),a.remove(this),this.outlineThickness&&a.add(this,{thickness:n.STYLE.OUTLINE.THICKNESS,outlineColor:n.STYLE.OUTLINE.COLOR}),this.isPressed=!0,this.isHovered=!1),this.scene.events.emit(n.EVENTS.UI.TOOLTIP.HIDE)}),this),this.on(Phaser.Input.Events.POINTER_UP,(()=>{this._isEnabled&&(a.remove(this),this.outlineThickness&&a.add(this,{thickness:n.STYLE.OUTLINE.THICKNESS,outlineColor:n.STYLE.OUTLINE.COLOR}),this.setTint(this.tintHovered),this.textureHovered&&this.textureHovered!=this.texture.key&&this.setTexture(this.textureHovered),this.isPressed=!1,this.isHovered=!0),this.scene.events.emit(n.EVENTS.UI.TOOLTIP.HIDE)}),this),this.on(Phaser.Input.Events.POINTER_MOVE,((t,e)=>{this._isEnabled&&(a.remove(this),this.outlineThickness&&a.add(this,{thickness:n.STYLE.OUTLINE.THICKNESS,outlineColor:n.STYLE.OUTLINE.COLOR}),this.isPressed?(this.setTint(this.tintPressed),this.texturePressed&&this.texturePressed!=this.texture.key&&this.setTexture(this.texturePressed)):(this.setTint(this.tintHovered),this.textureHovered&&this.textureHovered!=this.texture.key&&this.setTexture(this.textureHovered))),this.scene.events.emit(n.EVENTS.UI.TOOLTIP.SHOW,t.x,t.y,this.toolTipText)}),this),this.on(Phaser.Input.Events.POINTER_WHEEL,((t,e)=>{this.scene.events.emit(n.EVENTS.UI.TOOLTIP.HIDE)}),this)}disableInteractive(){return this.scene.plugins.get("rexOutlinePipeline").remove(this),this.clearTint(),super.disableInteractive()}initStyle(t){null==t&&(t={}),null!=t.outlineThichkess&&(this.outlineThickness=t.outlineThichkess),null!=t.outlineColor&&(this.outlineColor=t.outlineColor),null!=t.tintHovered&&(this.tintHovered=t.tintHovered),null!=t.tintPressed&&(this.tintPressed=t.tintPressed),null==t.pixelPerfect&&(t.pixelPerfect=!0);const e=this.texture instanceof Phaser.Textures.Texture?this.texture.key:this.texture;return this.setButtonImages(e,t.texturePressed,t.textureHovered),t}onClicked(t,e){return this.on(Phaser.Input.Events.POINTER_UP,(()=>{t()}),e),this}onHovered(t,e){return this.on(Phaser.Input.Events.POINTER_OVER,t,e),this}onPointerOut(t,e){return this.on(Phaser.Input.Events.POINTER_OUT,t,e),this}setButtonImages(t,e,i){return this.textureNormal=t,this.texturePressed=e,this.textureHovered=i,this.setTexture(this.textureNormal),this}setToolTipText(t){this.toolTipText=t}setEnabled(t){this.isEnabled=t}set isEnabled(t){this._isEnabled=t}get isEnabled(){return this._isEnabled}}class E extends h.Bt{constructor(t,e,i,s,o,r,n){const a=new u(t,0,0,o),l=new h.__(t,{background:a}),d=new h.__(t,{background:t.add.image(0,0,r)});super(t,{x:i,y:s,width:n,height:n,front:l,back:d,orientation:"horizontal",flip:{frontToBack:"left-to-right",backToFront:"right-to-left",duration:300,ease:"Linear",delay:0},draggable:!1,sizerEvents:!1}),this.id=-1,this.id=e,this.frontImageButton=a,this.frontImageButton.onClicked((()=>{this.emit("clicked",this)}),this),this.layout(),this.scene.add.existing(this)}onClicked(t,e){return this.on("clicked",(e=>{t(e)}),e),this}enable(){this.frontImageButton.setInteractive()}disable(){this.frontImageButton.disableInteractive(),this.disableInteractive()}getId(){return this.id}}class p extends a{constructor(){super({key:n.SCENES.GAME}),this.cards=[],this.remainCardCount=0,this.elapsedTime=0,this.isGameInProgress=!1,this.currentLevel=0}init(t){}preload(){}create(){super.create(),this.initUI(),this.startLevel(0)}startLevel(t){this.currentLevel=t,this.createBoard(),this.startCountdown(),0==t&&this.sceneUI.updateChrono(0)}startNextLevel(){this.currentLevel<n.GAME.LEVELS.length-1&&this.startLevel(this.currentLevel+1)}createBoard(){let t=[];const e=n.GAME.LEVELS[this.currentLevel].COLUMNS,i=n.GAME.LEVELS[this.currentLevel].ROWS;this.remainCardCount=e*i;for(let e=1;e<=.5*this.remainCardCount;++e)t.push({index:e,count:2});const s=120,o=e*s+16*(e-1),r=i*s+16*(i-1),a=.5*(this.scale.displaySize.width-o)+60,h=.5*(this.scale.displaySize.height-r)+s;for(const t of this.cards)t.destroy();this.cards=[];for(let o=0;o<i;++o)for(let i=0;i<e;++i){const e=Phaser.Math.Between(0,t.length-1),r=t[e].index,n=new E(this,r,a+i*s+16*(i-1),h+o*s+16*(o-1),"Welly_Hidden",`Welly_${r}`,s);this.cards.push(n),n.onClicked((t=>{this.onCardClicked(t)}),this),t[e].count=t[e].count-1,t[e].count<=0&&t.splice(e,1)}}initUI(){this.sceneUI=this.scene.get(n.SCENES.UI),this.sceneUI.events.on("readyToStartGame",(()=>{this.startGame()}),this),this.sceneUI.events.on("readyToStartNextLevel",(()=>{this.startNextLevel()}),this)}startCountdown(){this.isGameInProgress=!1,this.sceneUI.startCountdown()}startGame(){var t;this.turnBackAllCards(),null===(t=this.cards[0].flip)||void 0===t||t.once("complete",(()=>{this.time.delayedCall(n.GAME.LEVELS[this.currentLevel].DURATION_SHOW_CARDS,(()=>{var t;this.turnFrontAllCards(),null===(t=this.cards[0].flip)||void 0===t||t.once("complete",(()=>{this.isGameInProgress=!0}),this)}),void 0,this)}),this)}completeLevel(){this.isGameInProgress=!1,this.currentLevel<n.GAME.LEVELS.length-1?this.time.delayedCall(800,(()=>{this.sceneUI.onLeveCompleted(this.currentLevel)}),void 0,this):this.time.delayedCall(1300,(()=>{this.sceneUI.onAllLevelCompleted()}),void 0,this)}turnBackAllCards(){this.turnAllCards(0)}turnFrontAllCards(){this.turnAllCards(1)}turnAllCards(t){var e;for(const i of this.cards)i.face==t&&(null===(e=i.flip)||void 0===e||e.flip())}onCardClicked(t){var e,i;(null==this.firstCard||null==this.secondCard)&&t&&(t.disable(),null===(e=t.flip)||void 0===e||e.flip(),null==this.firstCard?this.firstCard=t:(this.secondCard=t,null===(i=this.secondCard.flip)||void 0===i||i.once("complete",(()=>{this.checkFlippedCards(this.firstCard,this.secondCard)}),this)))}checkFlippedCards(t,e){var i,s,o;this.isMatching(t,this.secondCard)?(this.hideCard(t),this.hideCard(e),this.firstCard=void 0,this.secondCard=void 0,this.remainCardCount-=2,this.checkGameState()):(this.firstCard=void 0,this.secondCard=void 0,null===(i=t.flip)||void 0===i||i.flip(250),null===(s=e.flip)||void 0===s||s.flip(250),null===(o=e.flip)||void 0===o||o.once("complete",(()=>{t.enable(),e.enable()}),this))}checkGameState(){this.remainCardCount<=0&&this.completeLevel()}hideCard(t){this.tweens.add({targets:t,y:t.y-8,duration:100,onComplete:()=>{this.tweens.add({targets:t,y:t.y+60,duration:800,alpha:0,onComplete:()=>{t.setVisible(!1)},onCompleteScope:this})},onCompleteScope:this})}isMatching(t,e){return t.getId()==e.getId()}update(t,e){super.update(t,e),this.isGameInProgress&&(this.elapsedTime+=e,this.sceneUI.updateChrono(this.elapsedTime))}}class S extends Phaser.Scene{constructor(){super({key:n.SCENES.PRELOAD_ASSETS})}init(){}preload(){this.preloadAudio(),this.preloadBackground(),this.preloadCard()}preloadAudio(){this.load.setPath("./assets/audio/")}preloadBackground(){this.load.setPath("./assets/"),this.load.image("background","background.png"),this.load.image("backgroundVictory","backgroundVictory.png")}preloadCard(){this.load.setPath("assets/cards/"),this.load.image("Welly_1","Welly_127.png"),this.load.image("Welly_2","Welly_2379.png"),this.load.image("Welly_3","Welly_2925.png"),this.load.image("Welly_4","Welly_2926.png"),this.load.image("Welly_5","Welly_2927.png"),this.load.image("Welly_6","Welly_2928.png"),this.load.image("Welly_7","Welly_3267.png"),this.load.image("Welly_8","Welly_3855.png"),this.load.image("Welly_9","Welly_3856.png"),this.load.image("Welly_10","Welly_3928.png"),this.load.image("Welly_11","Welly_3953.png"),this.load.image("Welly_12","Welly_4003.png"),this.load.image("Welly_Hidden","Welly_Hidden.png")}create(){this.input.setDefaultCursor("url(assets/cursors/cursorWellyNormal.cur), pointer"),this.initDimensions(),this.scene.add(n.SCENES.UI,T,!0,void 0),this.scene.add(n.SCENES.GAME,p,!0,void 0),this.scene.bringToTop(n.SCENES.UI),this.scene.remove(n.SCENES.PRELOAD_ASSETS)}initDimensions(){}}var O=i(4261);document.body.style.margin="0",document.body.style.padding="0",document.body.style.overflow="hidden",new(o().Game)({type:o().AUTO,scale:{mode:o().Scale.FIT,autoCenter:o().Scale.CENTER_BOTH},width:window.innerWidth,height:window.innerHeight,dom:{createContainer:!0},scene:[S],backgroundColor:n.STYLE.COLOR.BLUE,render:{pixelArt:!1,transparent:!1},physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},plugins:{global:[{key:"rexOutlinePipeline",plugin:r.Z,start:!0}],scene:[{key:"rexUI",plugin:O.Z,mapping:"rexUI",start:!0}]}})},9204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},i={};function s(t){var o=i[t];if(void 0!==o)return o.exports;var r=i[t]={exports:{}};return e[t].call(r.exports,r,r.exports,s),r.exports}s.m=e,t=[],s.O=(e,i,o,r)=>{if(!i){var n=1/0;for(d=0;d<t.length;d++){for(var[i,o,r]=t[d],a=!0,h=0;h<i.length;h++)(!1&r||n>=r)&&Object.keys(s.O).every((t=>s.O[t](i[h])))?i.splice(h--,1):(a=!1,r<n&&(n=r));if(a){t.splice(d--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,o,r]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var o,r,[n,a,h]=i,l=0;if(n.some((e=>0!==t[e]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(h)var d=h(s)}for(e&&e(i);l<n.length;l++)r=n[l],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},i=self.webpackChunkwelly_memory=self.webpackChunkwelly_memory||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),s.O(void 0,[216],(()=>s(3927)));var o=s.O(void 0,[216],(()=>s(9204)));o=s.O(o)})();